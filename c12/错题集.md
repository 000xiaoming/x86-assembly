# Readme

**检测点12.1**

1、若某段描述符中的段界限是0xFFFFC，当粒度为字节和4KB时，实际使用的段界限是多少？
答：当粒度为字节时，实际使用的段界限为：0x000FFFFC。当粒度为4KB时，实际使用的段界限为：0xFFFFC×0x1000+0xFFF=0xFFFFCFFFF。2、若GDT的界限为0x87，寄存器AX的内容为0x0088，则执行指令mov ds,ax时，处理器会产生异常吗？
答：处理器从GDT中取某个描述符时，要求描述符的8个字节都在GDT边界之内，也就是索引号×8+7小于等于边界。本题中段选择子为0x0088，索引号为10001B，即17。17×8+7=143，而143D>0x87，所以处理器中止处理，产生异常中断13。

**检测点12.2**

当前栈段描述符的B位是1，基地址为0x00700000，界限值为0xFFFFE，那么，在32位模式下，该栈段的有效地址范围是0x00700000~（  ）。当ESP的内容为0xFFFFF002时，还能压入一个双字吗？为什么？

答：该栈段的有效地址范围是0x00700000~0x006FFFFF。

因为段界限值为0xFFFFE，所以实际使用的段界限值为0xFFFFE×0x1000+0xFFF=0xFFFFEFFF。因为ESP的最大值是0xFFFFFFFF，所以处理器的检查规则是：0xFFFFF000≤（ESP的内容-操作数的长度）≤0xFFFFFFFF。所以最低有效地址：0x00700000+0xFFFFF000=0x006FF000；最高有效地址：x00700000+0xFFFFFFFF=0x006FFFFF。

ESP-4=0xFFFFF002-4=0xFFFFEFFE。符合检查规则，因此可以压入一个双字。



答案来源:https://fishc.com.cn/thread-100616-1-1.html